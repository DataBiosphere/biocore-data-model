id: https://github.com/broadinstitute/anvil_tdr_ingest/tree/main/anvil_schema/schema
name: anvil_findability_subset
prefixes:
  linkml: https://w3id.org/linkml/ # this is the URI of the linkml prefix
  anvil: https://anvilproject.org/
default_prefix: anvil
imports:
  - linkml:types # this imports the linkml types schema
  - BioCoreFields # The BioCore set of standard fields (i.e. columns)
  - BioCoreTables # The BioCore set of standard tables (classes)
default_range: string # if not specified, the default range is string
classes:

  AnvilActivity:
    is_a: Activity
    slots:
     - activity_type
     - xref_id
     - file

  AnvilAntibody:
    is_a: Antibody
    slots:
      - target
  
  AnvilBioSample:
    is_a: BioSample
    slots:
      - anatomical_site
      - apriori_cell_type
      - biosample_type
      - disease
      - donor_age_at_collection
      - donor_age_at_collection_unit
      - donor_age_at_collection_lower_bound
      - donor_age_at_collection_upper_bound
      - donor

  AnvilDataset:
    slots:
      - consent_group # TerraDCAT_ap:hasConsentGroup
      - data_use_permission # TerraDCAT_ap:hasDataUsePermission
      - owner # TerraDCAT_ap:hasOwner
      - principal_investigator # TerraDCAT_ap:hasPrincipalInvestigator
      - registered_identifier # TerraDCAT_ap:hasRegisteredIdentifier
      - title # TerraDCAT_ap:hasEntityTitle
      - data_modality
      - source_datarepo_row_ids

  AnvilDiagnosis:
    slots:
      - donor
      - disease
      - age_at_diagnosis
      - age_at_onset
      - diagnosis_age_unit
      - diagnosis_age_lower_bound
      - diagnosis_age_upper_bound
      - onset_age_unit
      - onset_age_lower_bound
      - onset_age_upper_bound
      - phenotype
      - phenopacket
      - source_datarepo_row_ids

  AnvilDonor:
    slots:
      - organism_type
      # - part_of_dataset_id # TerraDCAT_ap:hasDataset
      - dataset
      - phenotypic_sex
      - reported_ethnicity
      - genetic_ancestry
      - source_datarepo_row_ids
      - biosample

  AnvilFile:
    slots:
      - data_modality
      - file_format
      - file_size
      - file_md5sum # say that it is_a: checksum
      - reference_assembly
      - name
      - file_ref
      - is_supplementary
      - source_datarepo_row_ids

  AnvilProject:
    slots:
      - funded_by
      # - generated_dataset_id
      - dataset
      - principal_investigator # TerraDCAT_ap:hasPrincipalInvestigator
      - title # TerraDCAT_ap:hasEntityTitle
      - registered_identifier # TerraDCAT_ap:hasRegisteredIdentifier
      - source_datarepo_row_ids

  AnvilSequencingActivity:
    slots:
      - activity_type
      - assay_type
      - data_modality
      # - generated_file_id
      - dataset
      - biosample
      - source_datarepo_row_ids

  AnvilVariantCallingActivity:
      slots:
        - activity_type
        - used_file_id
        # - generated_file_id
        - file
        - reference_assembly
        - data_modality
        - source_datarepo_row_ids
  # Container: # for validating yaml data
  #   attributes:
  #     # AnvilActivities:
  #     #   multivalued: true
  #     #   inlined_as_list: true
  #     #   range: AnvilActivity
  #     #   description:
  #     #     all acvitity types
slots:
  id:
    identifier: true  # this is the primary identifier for the class
    range: uriorcurie
  xref_id: # external identifier for a donor
    # is_a: id
    multivalued: true
    recommended: true # example of making a slot recommended, does NOT serialize to JSON schema!
    description:
      other identifiers for the person, e.g. ORCID, etc
  activity_id:
    is_a: id
  activity_type:
  used_file_id:
    # is_a: id
    multivalued: true
  generated_file_id:
    is_a: id
    multivalued: true
  used_biosample_id:
    is_a: id
    multivalued: true
  source_datarepo_row_ids:
    multivalued: true
  alignmentactivity_id:
    is_a: id
  data_modality:
    multivalued: true
  reference_assembly:
    multivalued: true
  antibody_id:
    is_a: id
  target:
  assayactivity_id:
    is_a: id
  assay_type:
  biosample:
    multivalued: true
    range: BioSample
  biosample_id:
    is_a: id
  anatomical_site:
  apriori_cell_type:
    multivalued: true
  biosample_type:
  dataset:
    multivalued: true
    range: Dataset
  disease:
    multivalued: true
    range: Disease
  donor_age_at_collection_unit:
  donor_age_at_collection_lower_bound:
    range: float
  donor_age_at_collection_upper_bound:
    range: float
  donor_id:
    is_a: id
  donor:
    multivalued: true
    range: Donor
  part_of_dataset_id:
    multivalued: true
  dataset_id:
    is_a: id
  consent_group:
    multivalued: true
  data_use_permission:
    multivalued: true
  owner:
    multivalued: true
  principal_investigator:
    multivalued: true
  registered_identifier:
    multivalued: true
  title:
  diagnosis_id:
    is_a: id
  diagnosis_age_unit:
  diagnosis_age_lower_bound:
    range: float
  diagnosis_age_upper_bound:
    range: float
  file:
    multivalued: true
    range: File
  onset_age_unit:
  onset_age_lower_bound:
    range: float
  onset_age_upper_bound:
    range: float
  phenotype:
    multivalued: true
  phenopacket:
    multivalued: true
  organism_type:
  phenotypic_sex:
  reported_ethnicity:
    multivalued: true
  genetic_ancestry:
    multivalued: true
  file_id:
    is_a: id
  file_format:
  file_size:
    range: integer
  file_md5sum:
    is_a: checksum
  file_name:
  file_ref:
  is_supplementary:
    range: boolean
  project_id:
    is_a: id
  funded_by:
    multivalued: true
  generated_dataset_id:
    multivalued: true
  sequencingactivity_id:
    is_a: id
  variantcallingactivity_id:
    is_a: id